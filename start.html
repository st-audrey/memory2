<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Memory welcome page</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/png" href="icons/brain.ico"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Fascinate&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400&display=swap" rel="stylesheet">
    <script src="jquery-3.5.1.min.js"></script>
    <script src="jquery.lettering-0.6.1.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="row row-start">
            <div class="col-10">
                <div class="badge">
                    <h2>a game for your brain</h2>
                </div>
                <img id="logo" src="images/logo.png" />
            </div>
        </div>
        <div class="modal" id="modal" tabindex="-1">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Choose a theme :</h5>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-2">
                                <img class="modal-theme-card" src="images/blueRibbonArtisancards.png" data-id="1"/>
                            </div>
                            <div class="col-2">
                                <img class="modal-theme-card" src="images/bonafideplayingcards.jpg" data-id="2"/>
                            </div>
                            <div class="col-2">
                                <img class="modal-theme-card" src="images/jungleArtisancards.png" data-id="3"/>
                            </div>
                            <div class="col-2">
                                <img class="modal-theme-card" src="images/artOfPlayArtisancards.png" data-id="4"/>
                            </div>
                            <div class="col-2">
                                <img class="modal-theme-card" src="images/bicyclecards.png" data-id="5" />
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary" id="btn-start">Deal cards !</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div id="txt-title">Memory</div>
        </div>
        <div class="row">
            <div class="col-4 text-center">
                <p class="txt-tuto">Choose a card</p>
                <img class="img-tuto" src="images/tuto1.png" />
            </div>
            <div class="col-4 text-center">
                <p class="txt-tuto">Find its twin</p>
                <img class="img-tuto" src="images/tuto2.png" />
            </div>

            <div class="col-4 text-center">
                <p class="txt-tuto">Win life !</p>
                <img class="vie-tuto" src="images/vie.png" />
            </div>
        </div>
        <div class="row">
            <div id="txt-start">press any key to start game</div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script type="text/javascript" src="Card.js"></script>
    <script type="text/javascript" src="Game.js"></script>
    <script type="text/javascript">
        $(function () {
            $("h2").lettering();

            document.addEventListener("keydown", (event) => {
                $('#modal').modal('show');
            })

            /*function playAudio(audio){
                new Audio(audio).play();
            }

            document.addEventListener("click", (event) => {
                var soundClick = "sounds/Mouse-Click-00-c-FesliyanStudios.mp3"
                playAudio(soundClick);

            })*/

            var chosenTheme = "";
            var btnStart = document.getElementById("btn-start");
            btnStart.addEventListener("click", function () {
                var chosenCard = document.getElementById("chosen-theme");
                chosenTheme = chosenCard.dataset.id;
                window.location.href = 'index.html?theme=' + chosenTheme;               
            });

            var cards = document.getElementsByClassName("modal-theme-card");

            for (var item of cards) {
                item.addEventListener("click", function () {
                    for (var item of cards) {
                        item.classList.remove("modal-theme-card-active");
                        item.removeAttribute("id");
                    }
                    this.classList.add("modal-theme-card-active");
                    this.setAttribute("id", "chosen-theme");
                });
            };

            var clignotement = function () {
                if (document.getElementById('txt-start').style.visibility == 'visible') {
                    document.getElementById('txt-start').style.visibility = 'hidden';
                } else {
                    document.getElementById('txt-start').style.visibility = 'visible';
                }
            };
            periode = setInterval(clignotement, 800);
        });
    </script>
</body>
</html>